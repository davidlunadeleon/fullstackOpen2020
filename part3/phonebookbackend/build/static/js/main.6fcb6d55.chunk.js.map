{"version":3,"sources":["components/FormInput.js","components/NewNumber.js","components/Searchbar.js","components/Numbers.js","services/phonebook.js","components/Message.js","App.js","index.js"],"names":["FormInput","inputValue","inputOnChange","text","value","onChange","className","NewNumber","props","newName","handleNewName","newPhone","handleNewPhone","type","onClick","addPerson","SearchBar","onSubmit","event","preventDefault","newQuery","handleNewQuery","Numbers","Searchbar","personList","map","person","key","name","number","deletePerson","id","baseUrl","axios","get","then","response","data","post","put","delete","Message","classes","App","useState","setPerson","setNewName","setNewPhone","setNewQuery","setNewPersonList","message","setMessage","setMessageAndTimeOut","setTimeout","useEffect","filter","toLowerCase","includes","phonebookService","allPhones","catch","error","alert","target","newPerson","some","window","confirm","find","concat","addedPerson","p","ReactDOM","render","document","getElementById"],"mappings":"mNAeeA,EAbG,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,WAAYC,EAA0B,EAA1BA,cAAeC,EAAW,EAAXA,KAC/C,OACC,6BACEA,EADF,IACS,IACR,2BACCC,MAAOH,EACPI,SAAUH,EACVI,UAAU,iBCmBCC,EAzBG,SAACC,GAClB,OACC,6BACC,gDACA,8BACC,kBAAC,EAAD,CACCL,KAAK,OACLF,WAAYO,EAAMC,QAClBP,cAAeM,EAAME,gBAEtB,kBAAC,EAAD,CACCP,KAAK,SACLF,WAAYO,EAAMG,SAClBT,cAAeM,EAAMI,iBAEtB,6BACC,4BAAQC,KAAK,SAASC,QAASN,EAAMO,WAArC,WCJUC,EAZG,SAACR,GAClB,OACC,0BAAMS,SAAU,SAACC,GAAD,OAAWA,EAAMC,mBAChC,kBAAC,EAAD,CACChB,KAAK,SACLF,WAAYO,EAAMY,SAClBlB,cAAeM,EAAMa,mBCoBVC,EA1BC,SAACd,GAChB,OACC,6BACC,uCACA,wDACA,kBAACe,EAAD,CACCH,SAAUZ,EAAMY,SAChBC,eAAgBb,EAAMa,iBAEvB,4BACEb,EAAMgB,WAAWC,KAAI,SAACC,GAAD,OACrB,wBAAIC,IAAKD,EAAOE,KAAMtB,UAAU,UAC9BoB,EAAOE,KADT,IACgBF,EAAOG,OACtB,4BACCf,QAAS,kBAAMN,EAAMsB,aAAaJ,EAAOK,KACzCzB,UAAU,gBAFX,iB,gBCdA0B,EAAU,eAsBD,EApBA,WAEd,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAACC,GAAD,OAAcA,EAASC,SAkB7B,EAfA,SAAC1B,GAEf,OADgBsB,IAAMK,KAAKN,EAASrB,GACrBwB,MAAK,SAACC,GAAD,OAAcA,EAASC,SAa7B,EAVA,SAACN,EAAIpB,GAEnB,OADgBsB,IAAMM,IAAN,UAAaP,EAAb,YAAwBD,GAAMpB,GAC/BwB,MAAK,SAACC,GAAD,OAAcA,EAASC,SAQ7B,EALK,SAACN,GAEpB,OADgBE,IAAMO,OAAN,UAAgBR,EAAhB,YAA2BD,IAC5BI,MAAK,SAACC,GAAD,OAAcA,EAASC,SCX7BI,EARC,SAAC,GAAoB,IAAlB5B,EAAiB,EAAjBA,KAAMV,EAAW,EAAXA,KACxB,GAAa,OAATA,EACH,OAAO,KAER,IAAMuC,EAAmB,YAAT7B,EAAqB,UAAY,QACjD,OAAO,yBAAKP,UAAWoC,GAAUvC,IC2JnBwC,G,MA1JH,WAAO,IAAD,EACWC,mBAAS,IADpB,mBACVlB,EADU,KACFmB,EADE,OAEaD,mBAAS,IAFtB,mBAEVnC,EAFU,KAEDqC,EAFC,OAGeF,mBAAS,IAHxB,mBAGVjC,EAHU,KAGAoC,EAHA,OAIeH,mBAAS,IAJxB,mBAIVxB,EAJU,KAIA4B,EAJA,OAKsBJ,mBAASlB,GAL/B,mBAKVF,EALU,KAKEyB,EALF,OAMaL,mBAAS,CAAE/B,KAAM,KAAMV,KAAM,OAN1C,mBAMV+C,EANU,KAMDC,EANC,KAQXC,EAAuB,SAAC,GAAoB,IAAlBjD,EAAiB,EAAjBA,KAAMU,EAAW,EAAXA,KACrCsC,EAAW,CACVhD,KAAMA,EACNU,KAAMA,IAEPwC,YAAW,WACVF,EAAW,CACVhD,KAAM,KACNU,KAAM,SAEL,MAeJyC,qBAAU,WACTL,EACCvB,EAAO6B,QAAO,SAAC7B,GACd,OACCA,EAAOE,KACL4B,cACAC,SAASrC,EAASoC,gBACpB9B,EAAOG,OAAO2B,cAAcC,SAASrC,EAASoC,qBAI/C,CAAC9B,EAAQN,IAEZkC,qBAAU,WACTI,IAEEvB,MAAK,SAACwB,GACNd,EAAUc,MAEVC,OAAM,SAACC,GAAD,OACNC,MAAM,oDAEN,IA8EH,OACC,6BACC,yCACA,kBAAC,EAAD,CAAS3D,KAAM+C,EAAQ/C,KAAMU,KAAMqC,EAAQrC,OAC3C,kBAAC,EAAD,CACCJ,QAASA,EACTE,SAAUA,EACVD,cAvHmB,SAACQ,GACtB4B,EAAW5B,EAAM6C,OAAO3D,QAuHtBQ,eApHoB,SAACM,GACvB6B,EAAY7B,EAAM6C,OAAO3D,QAoHvBW,UArFe,SAACG,GAClBA,EAAMC,iBACN,IAAM6C,EAAY,CACjBpC,KAAMnB,EACNoB,OAAQlB,GAET,GAAIe,EAAOuC,MAAK,SAACvC,GAAD,OAAYA,EAAOE,OAASnB,MAC3C,GACCyD,OAAOC,QAAP,UACI1D,EADJ,0FAGC,CACD,IAAMsB,EAAKL,EAAO0C,MAAK,SAAC1C,GAAD,OAAYA,EAAOE,OAASnB,KAASsB,GAC5D2B,EACS3B,EAAIiC,GACX7B,MAAK,SAACC,GAAD,OACLS,EACCnB,EACE6B,QAAO,SAAC7B,GAAD,OAAYA,EAAOK,KAAOA,KACjCsC,OAAOjC,OAIZgB,EAAqB,CACpBjD,KAAK,iBAAD,OAAmB6D,EAAUpC,KAA7B,qBACJf,KAAM,kBAGEa,EAAOuC,MAAK,SAACvC,GAAD,OAAYA,EAAOG,SAAWlB,KACpDyC,EAAqB,CACpBjD,KAAK,cAAD,OAAgB6D,EAAUnC,OAA1B,gCACJhB,KAAM,WAGP6C,EACSM,GACP7B,MAAK,SAACmC,GACNzB,EAAUnB,EAAO2C,OAAOC,OAExBV,OAAM,SAACC,GACPT,EAAqB,CACpBjD,KAAM,0CACNU,KAAM,aAGTuC,EAAqB,CACpBjD,KAAK,iBAAD,OAAmB6D,EAAUpC,KAA7B,qBACJf,KAAM,aAGRiC,EAAW,IACXC,EAAY,OAoCX,kBAAC,EAAD,CACC3B,SAAUA,EACVC,eArHoB,SAACH,GACvB8B,EAAY9B,EAAM6C,OAAO3D,QAqHvBoB,WAAYA,EACZM,aArCkB,SAACC,GACjBmC,OAAOC,QAAQ,iDAClBT,EACc3B,GACZI,MAAK,SAACC,GACNS,EAAUnB,EAAO6B,QAAO,SAACgB,GAAD,OAAOA,EAAExC,KAAOA,MACxCqB,EAAqB,CACpBjD,KAAK,8BACLU,KAAM,eAGP+C,OAAM,SAACC,GACPT,EAAqB,CACpBjD,KACC,8FACDU,KAAM,UAEPgC,EAAUnB,EAAO6B,QAAO,SAACgB,GAAD,OAAOA,EAAExC,KAAOA,eCpI7CyC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.6fcb6d55.chunk.js","sourcesContent":["import React from 'react';\n\nconst FormInput = ({ inputValue, inputOnChange, text }) => {\n\treturn (\n\t\t<div>\n\t\t\t{text}:{' '}\n\t\t\t<input\n\t\t\t\tvalue={inputValue}\n\t\t\t\tonChange={inputOnChange}\n\t\t\t\tclassName=\"inputField\"\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default FormInput;\n","import React from 'react';\nimport FormInput from './FormInput';\n\nconst NewNumber = (props) => {\n\treturn (\n\t\t<div>\n\t\t\t<h2>Add a new number</h2>\n\t\t\t<form>\n\t\t\t\t<FormInput\n\t\t\t\t\ttext=\"name\"\n\t\t\t\t\tinputValue={props.newName}\n\t\t\t\t\tinputOnChange={props.handleNewName}\n\t\t\t\t/>\n\t\t\t\t<FormInput\n\t\t\t\t\ttext=\"number\"\n\t\t\t\t\tinputValue={props.newPhone}\n\t\t\t\t\tinputOnChange={props.handleNewPhone}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<button type=\"submit\" onClick={props.addPerson}>\n\t\t\t\t\t\tadd\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nexport default NewNumber;\n","import React from 'react';\nimport FormInput from './FormInput';\n\nconst SearchBar = (props) => {\n\treturn (\n\t\t<form onSubmit={(event) => event.preventDefault()}>\n\t\t\t<FormInput\n\t\t\t\ttext=\"search\"\n\t\t\t\tinputValue={props.newQuery}\n\t\t\t\tinputOnChange={props.handleNewQuery}\n\t\t\t/>\n\t\t</form>\n\t);\n};\n\nexport default SearchBar;\n","import React from 'react';\nimport Searchbar from './Searchbar';\n\nconst Numbers = (props) => {\n\treturn (\n\t\t<div>\n\t\t\t<h2>Numbers</h2>\n\t\t\t<h3>Filter by name or number</h3>\n\t\t\t<Searchbar\n\t\t\t\tnewQuery={props.newQuery}\n\t\t\t\thandleNewQuery={props.handleNewQuery}\n\t\t\t/>\n\t\t\t<ul>\n\t\t\t\t{props.personList.map((person) => (\n\t\t\t\t\t<li key={person.name} className=\"number\">\n\t\t\t\t\t\t{person.name} {person.number}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => props.deletePerson(person.id)}\n\t\t\t\t\t\t\tclassName=\"numberButton\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\nexport default Numbers;\n","import axios from 'axios';\n\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl);\n\treturn request.then((response) => response.data);\n};\n\nconst create = (newPhone) => {\n\tconst request = axios.post(baseUrl, newPhone);\n\treturn request.then((response) => response.data);\n};\n\nconst update = (id, newPhone) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, newPhone);\n\treturn request.then((response) => response.data);\n};\n\nconst deletePhone = (id) => {\n\tconst request = axios.delete(`${baseUrl}/${id}`);\n\treturn request.then((response) => response.data);\n};\n\nexport default { getAll, create, update, deletePhone };\n","import React from 'react';\n\nconst Message = ({ type, text }) => {\n\tif (text === null) {\n\t\treturn null;\n\t}\n\tconst classes = type === 'success' ? 'success' : 'error';\n\treturn <div className={classes}>{text}</div>;\n};\n\nexport default Message;\n","import React, { useState, useEffect } from 'react';\nimport NewNumber from './components/NewNumber';\nimport Numbers from './components/Numbers';\nimport phonebookService from './services/phonebook';\nimport Message from './components/Message';\n\nimport './index.css';\n\nconst App = () => {\n\tconst [person, setPerson] = useState([]);\n\tconst [newName, setNewName] = useState('');\n\tconst [newPhone, setNewPhone] = useState('');\n\tconst [newQuery, setNewQuery] = useState('');\n\tconst [personList, setNewPersonList] = useState(person);\n\tconst [message, setMessage] = useState({ type: null, text: null });\n\n\tconst setMessageAndTimeOut = ({ text, type }) => {\n\t\tsetMessage({\n\t\t\ttext: text,\n\t\t\ttype: type\n\t\t});\n\t\tsetTimeout(() => {\n\t\t\tsetMessage({\n\t\t\t\ttext: null,\n\t\t\t\ttype: null\n\t\t\t});\n\t\t}, 5000);\n\t};\n\n\tconst handleNewName = (event) => {\n\t\tsetNewName(event.target.value);\n\t};\n\n\tconst handleNewPhone = (event) => {\n\t\tsetNewPhone(event.target.value);\n\t};\n\n\tconst handleNewQuery = (event) => {\n\t\tsetNewQuery(event.target.value);\n\t};\n\n\tuseEffect(() => {\n\t\tsetNewPersonList(\n\t\t\tperson.filter((person) => {\n\t\t\t\treturn (\n\t\t\t\t\tperson.name\n\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t.includes(newQuery.toLowerCase()) ||\n\t\t\t\t\tperson.number.toLowerCase().includes(newQuery.toLowerCase())\n\t\t\t\t);\n\t\t\t})\n\t\t);\n\t}, [person, newQuery]);\n\n\tuseEffect(() => {\n\t\tphonebookService\n\t\t\t.getAll()\n\t\t\t.then((allPhones) => {\n\t\t\t\tsetPerson(allPhones);\n\t\t\t})\n\t\t\t.catch((error) =>\n\t\t\t\talert('There was an error retrieving the phonebook')\n\t\t\t);\n\t}, []);\n\n\tconst addPerson = (event) => {\n\t\tevent.preventDefault();\n\t\tconst newPerson = {\n\t\t\tname: newName,\n\t\t\tnumber: newPhone\n\t\t};\n\t\tif (person.some((person) => person.name === newName)) {\n\t\t\tif (\n\t\t\t\twindow.confirm(\n\t\t\t\t\t`${newName} is already on the phonebook. Do you want to replace the old number with the new one?`\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tconst id = person.find((person) => person.name === newName).id;\n\t\t\t\tphonebookService\n\t\t\t\t\t.update(id, newPerson)\n\t\t\t\t\t.then((response) =>\n\t\t\t\t\t\tsetPerson(\n\t\t\t\t\t\t\tperson\n\t\t\t\t\t\t\t\t.filter((person) => person.id !== id)\n\t\t\t\t\t\t\t\t.concat(response)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\tsetMessageAndTimeOut({\n\t\t\t\t\ttext: `The number of ${newPerson.name} has been updated`,\n\t\t\t\t\ttype: 'success'\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (person.some((person) => person.number === newPhone)) {\n\t\t\tsetMessageAndTimeOut({\n\t\t\t\ttext: `The number ${newPerson.number} is already on the phonebook`,\n\t\t\t\ttype: 'error'\n\t\t\t});\n\t\t} else {\n\t\t\tphonebookService\n\t\t\t\t.create(newPerson)\n\t\t\t\t.then((addedPerson) => {\n\t\t\t\t\tsetPerson(person.concat(addedPerson));\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tsetMessageAndTimeOut({\n\t\t\t\t\t\ttext: 'There was an error adding the new phone',\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tsetMessageAndTimeOut({\n\t\t\t\ttext: `The number of ${newPerson.name} has been created`,\n\t\t\t\ttype: 'success'\n\t\t\t});\n\t\t}\n\t\tsetNewName('');\n\t\tsetNewPhone('');\n\t};\n\n\tconst deletePerson = (id) => {\n\t\tif (window.confirm('Are you sure you want to delete this number?')) {\n\t\t\tphonebookService\n\t\t\t\t.deletePhone(id)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetPerson(person.filter((p) => p.id !== id));\n\t\t\t\t\tsetMessageAndTimeOut({\n\t\t\t\t\t\ttext: `The number has been deleted`,\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tsetMessageAndTimeOut({\n\t\t\t\t\t\ttext:\n\t\t\t\t\t\t\t'There was an error deleting the number. The number has already been deleted from the server',\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t\tsetPerson(person.filter((p) => p.id !== id));\n\t\t\t\t});\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>Phonebook</h1>\n\t\t\t<Message text={message.text} type={message.type} />\n\t\t\t<NewNumber\n\t\t\t\tnewName={newName}\n\t\t\t\tnewPhone={newPhone}\n\t\t\t\thandleNewName={handleNewName}\n\t\t\t\thandleNewPhone={handleNewPhone}\n\t\t\t\taddPerson={addPerson}\n\t\t\t/>\n\t\t\t<Numbers\n\t\t\t\tnewQuery={newQuery}\n\t\t\t\thandleNewQuery={handleNewQuery}\n\t\t\t\tpersonList={personList}\n\t\t\t\tdeletePerson={deletePerson}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}